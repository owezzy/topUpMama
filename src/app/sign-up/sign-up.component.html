<!-- Section container  -->
<section fxLayout="row" fxLayoutAlign="center" id="sign-up-container">
  <div fxFlex="400px" fxFlex.xs="96%" class="sign-up-content">

    <!-- Text section  -->
    <div>
      <div>
        <h2 class="sign-up-text sign-up-title">Sign Up for your Account</h2>

      </div>
    </div>

    <!-- Card section with form  -->
    <div>
      <mat-card class="mat-elevation-z0">
        <mat-card-content>
          <form
            [formGroup]="signUpForm"
            (ngSubmit)="signUp()"
            fxLayout="column"
          >
            <!-- EMAIL  -->
            <div fxLayout="row" fxLayoutAlign="start center">
              <mat-icon *ngIf="allowSignUp">email</mat-icon>
              <mat-form-field *ngIf="allowSignUp" fxFlex>
                <input
                  matInput
                  type="email"
                  placeholder="E-mail"
                  aria-label="E-mail"
                  formControlName="email"
                />
                <mat-error
                  *ngIf="email?.hasError('required')"
                >
                  E-mail is required
                </mat-error>
                <mat-error
                  *ngIf="email?.hasError('email')"
                >
                  E-mail is not valid
                </mat-error>
              </mat-form-field>

            </div>

            <!-- PASSWORD  -->
            <div fxLayout="row" fxLayoutAlign="start center">
              <mat-icon *ngIf="allowSignUp" matPrefix>vpn_key</mat-icon>
              <mat-form-field fxFlex *ngIf="allowSignUp">
                <input
                  matInput
                  placeholder="Password"
                  aria-label="Password"
                  [type]="hide ? 'password' : 'text'"
                  formControlName="password"
                />
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error
                  *ngIf="password?.hasError('required')"
                >
                  Password is required
                </mat-error>
                <mat-error
                  *ngIf="password?.hasError('minlength')"
                >
                  Password is at least 8 characters long
                </mat-error>
              </mat-form-field>
            </div>



            <!-- CTA BUTTONS  -->
            <div
              fxLayout="column"
              fxLayoutAlign="start stretch"
              class="sign-up-buttons"
            >
              <button
                mat-raised-button
                type="submit"
                color="primary"
                [disabled]="signUpForm.invalid"
              >
                Sign Up
              </button>


              <button
                mat-stroked-button
                color="primary"
                [routerLink]="['/login']"
              >
                I already have an account. Log me in.
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>

  </div>
</section>
